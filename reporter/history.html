<!DOCTYPE html>
<html lang="en">
    <head>
        <title>History Report</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" 
            integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" 
            crossorigin="anonymous"> -->
        
        <!-- <link rel="icon" type="image/png" href="images/icons/favicon.ico" /> -->

        <!-- The purecss is loaded locally (when the history is viewed in tthe browser, in case that
            the external internet is unavailable, for some reason) or is loaded from the CDN when
            viewed in the email reader, since internet must be available then. -->
        <link rel="stylesheet" type="text/css" href="{{.PureCssBaseURL}}pure.css">
        <!-- todo: include the report.css as a nested template -->

        {{if eq .LocalFonts true}}
            <style type="text/css">
                /* generated from: https://google-webfonts-helper.herokuapp.com/fonts/space-mono?subsets=latin */
                /* from https://fonts.google.com/specimen/Space+Mono?selection.family=Space+Mono */
                @font-face {
                    font-family: 'Space Mono';
                    font-style: normal;
                    font-weight: 400;
                    src: local('Space Mono'), local('SpaceMono-Regular'),
                        url('static/fonts/space-mono-v4-latin-regular.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
                        url('static/fonts/space-mono-v4-latin-regular.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
                }
                /* space-mono-700 - latin */
                @font-face {
                    font-family: 'Space Mono';
                    font-style: normal;
                    font-weight: 700;
                    src: local('Space Mono Bold'), local('SpaceMono-Bold'),
                        url('static/fonts/space-mono-v4-latin-700.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
                        url('static/fonts/space-mono-v4-latin-700.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
                }
            </style>        
        {{else}}
            <!-- In the gmail reader, it seems that fonts are not allowed so this line is kindof useless -->
            <link href="https://fonts.googleapis.com/css?family=Space+Mono" rel="stylesheet">
        {{end}}
        <style type="text/css">
            .margin-auto {
                margin: auto;
            }
            .is-center {
                text-align: center;
            }
            .text-left {
                text-align: left;
            }
            .text-right {
                text-align: right;
            }
            .history-table {
                font-family: 'Space Mono', monospace;
                font-size: 14px;
                margin-left: auto;
                margin-right: auto;
                width: 95%;
            }
            .history-table td {
                padding-top: 0.25em;
                padding-bottom: 0.25em;
            }
        </style>        
    </head>
    <body class="is-center">        
        {{if ne .Error ""}}
            <h4>ERROR: {{.Error}}</h4>
        {{else}}
            <table class="history-table text-right">
                <thead>
                    <tr class="text-right">
                        <th>Server Time</th>
                        <th>OutOfSyncFiles</th>
                        <th>OutOfSyncByes</th>
                        <th>Files</th>
                        <th>Bytes</th>
                        <th>WorkstationTime</th>
                        <th>TimeDifference</th>
                    </tr>
                </thead>
                <tbody>
                    {{range .Records}}
                        <tr class="pure-table-odd">
                            <td>{{.ServerTime}}</td>
                            <td>{{.OutOfSyncFiles}}</td>
                            <td>{{.OutOfSyncByes}}</td>
                            <td>{{.BackedUpFiles}}</td>
                            <td>{{.BackedUpByes}}</td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>{{.WorkstationFiles}}</td>
                            <td>{{.WorkstationByes}}</td>
                            <td>{{.WorkstationTime}}</td>
                            <td>{{.TimeDifference}}</td>
                        </tr>
                    {{end}}
                </tbody>
            </table>    
        {{end}}
    </body>
</html>
